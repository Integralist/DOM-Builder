<!doctype html>
<html dir="ltr" lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>DOM Builder</title>
        <style>
            body {
                font: 100%/1.5 sans-serif;
            }

            code {
                color: blue;
                font-family: Monaco, 'Courier New', monospace;
            }

            #js-structure_b {
                border: 1px solid red;
            }
        </style>
    </head>
    <body>
        <h1>DOM Builder</h1>
        <p>We use a constructor function to create DOM elements.</p>
        <p>The object returned by the constructor has a `<code>content</code>` property.</p>
        <p>This `<code>content</code>` property by default holds the specified DOM structure as an actual set of nodes (wrapped in a containing `<code>div</code>` - <em>I've yet to figure out a good work around to NOT having the extra `<code>div</code>` wrapping the content</em>)</p>
        <p>But if you pass `<code>true</code>` as the second parameter you get the specified DOM structure as a `<code>String</code>` so you can `<code>innerHTML</code>` it into the DOM wherever you want it to go.</p>
        <h2>Example</h2>
        <p>The below content demonstrates this (view source for the details).</p>
        <p>The red bordered box is the content as a `<code>String</code>` and inserted into the DOM via `<code>innerHTML</code>`.</p>
        <p>The content below that is the actual nodes returned and are inserted to the DOM via `<code>appendChild</code>`.</p>
        <p>Check your browser's `<code>console</code>` to see both objects returned from the constructor.</p>
        <div id="js-structure_b"></div>
        <script src="dombuilder.js"></script>
        <script>
            /*
                new DOM(data_structure, return_html_string?)
             */

            var structure_a = new DOM([
                    {
                        tag: 'div',
                        id: 'js-a',
                        content: [
                            {
                                tag: 'p',
                                content: 'abc'
                            },
                            {
                                tag: 'p',
                                content: 'def'
                            }
                        ]
                    },
                    {
                        tag: 'div',
                        classes: ['x', 'y', 'z'],
                        id: 'js-b',
                        content: [
                            {
                                tag: 'p',
                                id: 'js-c',
                                content: 'ghi'
                            }
                        ]
                    }
                ]);

            var structure_b = new DOM([
                    {
                        tag: 'div',
                        content: [
                            {
                                tag: 'p',
                                content: 'abc'
                            },
                            {
                                tag: 'p',
                                content: 'def'
                            }
                        ]
                    },
                    {
                        tag: 'div',
                        classes: ['a', 'b', 'c'],
                        content: [
                            {
                                tag: 'p',
                                id: 'js-c',
                                content: 'ghi'
                            }
                        ]
                    }
                ], true);

            console.log(structure_a);
            console.log(structure_b);

            document.body.appendChild(structure_a.content);
            document.getElementById('js-structure_b').innerHTML = structure_b.content;

            /*
                Currently an error will be thrown when incorrect data is provided.

                Some examples:

                new DOM()
                new DOM(new Array())
                new DOM({})

                ...we require an Array which has content!

                We could either remove this basic check and expect the user to read the documentation, 
                or we could go the other way and really go hog wild with validation checks?

                I think I'll keep with the basic check we have right now, but if push comes to shove 
                I'd remove the check and just expect the user to understand the API.
             */
        </script>
    </body>
</html>