<!doctype html>
<html dir="ltr" lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>DOM Builder</title>
        <style>
            body {
                background-color: #E2E2E2;
                font: 100%/1.5 sans-serif;
                margin: auto;
                max-width: 60em; /* 960px / 16px */
                padding-left: 2em;
                padding-right: 2em;
            }

            code {
                color: blue;
                font-family: Monaco, 'Courier New', monospace;
            }

            #js-structure_string {
                border: 1px solid red;
            }
        </style>
    </head>
    <body>
        <h1>DOM Builder</h1>
        <p>We use a constructor function to create DOM elements.</p>
        <p>The object returned by the constructor has a `<code>content</code>` property.</p>
        <p>This `<code>content</code>` property by default holds the specified DOM structure as an actual set of nodes (wrapped in a containing `<code>div</code>` - <em>I've yet to figure out a good work around to NOT having the extra `<code>div</code>` wrapping the content</em>)</p>
        <p>But if you pass `<code>true</code>` as the second parameter you get the specified DOM structure as a `<code>String</code>` so you can `<code>innerHTML</code>` it into the DOM wherever you want it to go.</p>
        <h2>Example</h2>
        <p>The below content demonstrates this (view source for the details).</p>
        <p>The red bordered box is the content as a `<code>String</code>` and inserted into the DOM via `<code>innerHTML</code>`.</p>
        <p>The content below that is the actual nodes returned and are inserted to the DOM via `<code>appendChild</code>`.</p>
        <p>Check your browser's `<code>console</code>` to see both objects returned from the constructor.</p>
        <div id="js-structure_string"></div>
        <script src="dombuilder.js"></script>
        <script>
            /*
                new DOM(data_structure, return_html_string?)
             */

            var structure = new DOM([
                    {
                        tag: 'div',
                        id: 'js-a',
                        content: [
                            {
                                tag: 'p',
                                content: 'abc'
                            },
                            {
                                tag: 'p',
                                content: 'def'
                            }
                        ]
                    },
                    {
                        tag: 'div',
                        classes: ['x', 'y', 'z'],
                        id: 'js-b',
                        content: [
                            {
                                tag: 'p',
                                classes: ['some_other_class'],
                                id: 'js-c',
                                content: 'ghi (class = some_other_class, id = js-c)'
                            }
                        ]
                    }
                ]);

            var structure_string = new DOM([
                    {
                        tag: 'div',
                        content: [
                            {
                                tag: 'p',
                                content: 'abc'
                            },
                            {
                                tag: 'p',
                                content: 'def'
                            }
                        ]
                    },
                    {
                        tag: 'div',
                        classes: ['a', 'b', 'c'],
                        content: [
                            {
                                tag: 'p',
                                id: 'js-d',
                                content: 'ghi (the parent div will have class = a b c, id = js-d)'
                            }
                        ]
                    }
                ], { return_string: true });

            var structure_array = new DOM([
                    {
                        tag: 'div',
                        content: [
                            {
                                tag: 'p',
                                content: 'abc'
                            },
                            {
                                tag: 'p',
                                content: 'def'
                            }
                        ]
                    },
                    {
                        tag: 'div',
                        classes: ['a', 'b', 'c'],
                        content: [
                            {
                                tag: 'p',
                                id: 'js-d',
                                content: 'ghi (the parent div will have class = a b c, id = js-d)'
                            }
                        ]
                    }
                ], { return_array: true });

            console.log(structure);
            console.log(structure_string);
            console.log(structure_array);

            document.body.appendChild(structure.content);
            document.getElementById('js-structure_string').innerHTML = structure_string.content;
        </script>
    </body>
</html>